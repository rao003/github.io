<!-- 

Enter your name and see magic!
This is my web version of the most popular code in Python by Aleksandar Stevanovic.
Created by Jonathan Pizarra
March 20, 2018 Tuesday
Comment any bug.

Thank you SoloLearn for another Code Of The Day!
Thanks everyone for the upvotes!ðŸ˜Š
COTD March 22, 2018.
-->

<!DOCTYPE html>
<html>
    <head>
        <title>Enter your name and see magic!</title>
        <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
        <style>
        /* Created by Jonathan Pizarra */

body{
    margin:0px;
}
#txt{
    font-size:9px;
    font-family:sans-serif;
}
#container{
    border:1px solid transparent ;
    height:100px;
    position:absolute ;
       top:100px;
}

p{
    width:10px;
    height:10px;
    border:1px solid black;
    border-radius:3px;
    position:absolute ;
    background: #124555 ;
}


        
        </style>
    </head>
    <body>
        <div id="txt">Please wait. It may take a while to load if you entered a long string. </div>
        <div id="container"></div>
        <script>
        
var A = [ [0,1,1,0],
          [1,0,0,1],
          [1,1,1,1],
          [1,0,0,1],
          [1,0,0,1]
         ];
var B = [ [1,1,1,1],
          [1,0,0,1],
          [1,1,1,0],
          [1,0,0,1],
          [1,1,1,1]
        ];
var C = [ [0,1,1,1],
          [1,0,0,0],
          [1,0,0,0],
          [1,0,0,0],
          [0,1,1,1]
        ];
var D = [ [1,1,1,0],
          [1,0,0,1],
          [1,0,0,1],
          [1,0,0,1],
          [1,1,1,0]
        ];
var E = [ [1,1,1,1],
          [1,0,0,0],
          [1,1,1,0],
          [1,0,0,0],
          [1,1,1,1]
        ];
var F = [ [1,1,1,1],
          [1,0,0,0],
          [1,1,1,0],
          [1,0,0,0],
          [1,0,0,0]
        ];
var G = [ [1,1,1,1],
          [1,0,0,0],
          [1,0,1,1],
          [1,0,0,1],
          [1,1,1,1]
        ];
var H = [ [1,0,0,1],
          [1,0,0,1],
          [1,1,1,1],
          [1,0,0,1],
          [1,0,0,1]
        ];
var I = [ [1,1,1],
          [0,1,0],
          [0,1,0],
          [0,1,0],
          [1,1,1]
        ];
var J = [ [0,0,0,1],
          [0,0,0,1],
          [0,0,0,1],
          [1,0,0,1],
          [1,1,1,1]
        ];
var K = [ [1,0,0,1],
          [1,0,1,0],
          [1,1,0,0],
          [1,0,1,0],
          [1,0,0,1]
        ];
var L = [ [1,0,0],
          [1,0,0],
          [1,0,0],
          [1,0,0],
          [1,1,1]
        ];
var M = [ [1,1,1,1,0],
          [1,0,1,0,1],
          [1,0,1,0,1],
          [1,0,1,0,1],
          [1,0,1,0,1]
        ];
var N = [ [1,0,0,0,1],
          [1,1,0,0,1],
          [1,0,1,0,1],
          [1,0,0,1,1],
          [1,0,0,0,1]
        ];
var O = [ [0,1,1,0],
          [1,0,0,1],
          [1,0,0,1],
          [1,0,0,1],
          [0,1,1,0]
        ];
var P = [ [1,1,1,0],
          [1,0,0,1],
          [1,0,0,1],
          [1,1,1,0],
          [1,0,0,0]
        ];
// letter Q is reaallly annoying!!
var Q = [ [0,1,1,0,0],
          [1,0,0,1,0],
          [1,0,0,1,0],
          [1,0,0,1,0],
          [0,1,1,0,1]
        ];
var R = [ [1,1,1,1],
          [1,0,0,1],
          [1,0,0,1],
          [1,1,1,0],
          [1,0,0,1]
        ];
var S = [ [0,1,1],
          [1,0,0],
          [1,1,1],
          [0,0,1],
          [1,1,0]
        ];
var T = [ [1,1,1],
          [0,1,0],
          [0,1,0],
          [0,1,0],
          [0,1,0]
        ];
var U = [ [1,0,0,1],
          [1,0,0,1],
          [1,0,0,1],
          [1,0,0,1],
          [0,1,1,0]
        ];
var V = [ [1,0,0,0,1],
          [1,0,0,0,1],
          [1,0,0,0,1],
          [0,1,0,1,0],
          [0,0,1,0,0]
        ];
var W = [ [1,0,1,0,1],
          [1,0,1,0,1],
          [1,0,1,0,1],
          [1,0,1,0,1],
          [0,1,1,1,0]
        ];
var X = [ [1,0,0,0,1],
          [0,1,0,1,0],
          [0,0,1,0,0],
          [0,1,0,1,0],
          [1,0,0,0,1]
        ];
var Y = [ [1,0,0,0,1],
          [0,1,0,1,0],
          [0,0,1,0,0],
          [0,0,1,0,0],
          [0,0,1,0,0]
        ];
var Z = [ [1,1,1,1],
          [0,0,0,1],
          [0,1,1,0],
          [1,0,0,0],
          [1,1,1,1]
        ];
            
        </script>
        
<script>
// Created by Jonathan Pizarra

$(document).ready(function(){
//  input string
//var str = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
var str = prompt("Enter your name and see MAGIC!!") || "your name";
str = str.toUpperCase() ;

//vars
var cont, sp, curr, offx, arr, count, c2, x, y;

main();
function main(){

//   variable 
cont = $("#container");
sp = [[0,0,0,0]];
curr;
offx = 20;
arr = [];
count = 0;
cont.html("");
c2 = 0;

// main loop
for(var j0=0; j0<str.length; j0++){
  if(str[j0].match(/[^A-Z]/)){
      // if it's not a letter
      curr = sp;
  }
  else{
      // just evals the current letter to get the variable instead of using if statements or switch case
      curr = eval(str[j0]);
  }
  // j1 loops vertically in the matrix
for(var j1=0; j1<curr.length; j1++){
   // j2 loops horizontally
    for(var j2=0; j2<curr[j1].length; j2++){
        // if it's 1, add a <p> tag to container div
        if(curr[j1][j2] == 1){
          x = j2*10;
          y = j1*10;
          // randomizes the starting point of squares
          sw(count);
          
          cont.html( cont.html() + "<p style=' top:" + y + "px;left:" + x + "px;'></p>");
          // push the right coordinates
          arr.push({
            y:j1*10,
            x:j2*10+offx
          });
          // just a counter that loops through 0-3 over and over again
          count++;
          count = count>3?0:count;
        }        
    }   // end of j2 loop
} // end of j1 for loop

offx += 10 + (curr[0].length * 10)

} // end of main loop



// the animation part
for(var j3=0; j3<arr.length; j3++){
    
    $("p:eq(" + j3 + ")").animate({"top":arr[j3].y + "px","left":arr[j3].x + "px"},Math.round(Math.random()*3000+400),"swing",callbac);
    
}   // j3 loop


//} //  end of main function''

// I separated the switch case for clarity
function sw(c){
    switch(c){
        case 0: // square comes from above
        y += Math.round(Math.random()*-500)-100;
        break;
        case 1: //  from  right
        x += offx + Math.round(Math.random()*500)+100;
        break;
        case 2: // from bottom
        y += Math.round(Math.random()*500) +100;
        break;
        case 3: // from left
        x += offx - Math.round(Math.random()*500)+100;
        break;
     }
}

} //  end of main function

  // a callback counter function is needed so that the animation repeats only after all the animations are complete:
function callbac(){
    c2++;
    //if all animations are done:
    if(c2 >= arr.length){
       setTimeout(function(){
           main();
           clrs();
       },1000 )
    }
}

// color changer func
function clrs(){
 var r = Math.floor(Math.random() * 255) ;
 var g = Math.floor(Math.random() * 255) ;
 var b = Math.floor(Math.random() * 255) ;
 $("p").css("background","rgb(" + r + ","+ g + "," + b + ")");                 
 $("p").css("borderColor","rgb(" + (r-30)+ ","+ (g-30)+ "," + (b-30) + ")"  )
}
    
})
//Created by Jonathan Pizarra
</script>        
    </body>
</html>
